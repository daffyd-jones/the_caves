use crate::enums::{Cells, Door, EnvInter, FeatureType, NPCWrap};
use crate::item::{rand_hermit_item, Item};
use crate::parsing::{parse_map, tile_to_chars};

use rand::prelude::SliceRandom;
use rand::Rng;
use std::collections::HashMap;

const POND_1: &str = r#"Null|Null|Null
##########______________##################_______________________##########
#######__________________#################__________________________#######
##__________________________############_________._____________________####
##__,_________________.___________________________________________'____####
#_______________________________________________________________________###
##_________________________________________"__________┌─────┐____________##
______',_______________________________________________π____│______________
_______________________________________________________ঌ_⑁__│*_____________
______________,'~~~~~~~~~~~~~~~~~~_____________________ѧ__⑁_│___________###
##_________,~~~~~~~~~~~~~~~~~~~~~~~~~,______________________│___________###
###_____,~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~_______________⑁___│__________####
###_____~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~____________└─────┘__________####
##______~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~__________________________####
##______~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~_________________________###
________~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~_________________________
_______"~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~_____________",________
________~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~______________________
________'~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~______________________
___________,~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~____'_____________________
##______________~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~___________________________##
##______.____________,'~~~~~~~~~~~~~~~~~~,______________________________###
##____________________________________________________________,_________###
###_____________________________________________________________________###
#######_______________###############_________________________________#####
########_____________###################_____________________________######
"#;

const POND_2: &str = r#"Null|Null|Null
###____________________________#############_________________________######
###______________________________#########___________________________######
###_,_______________.______",__________________~~~~~~~~~,___________.___###
___________┌───────────────────┐'____________~~~~~~~~~~~~~~~____________###
__________"│__::.:.:.:.:.:.::__│___________.~~~~~~~~~~~~~~~~~'___________##
___________│__ঌ____:___:_______│"__________~~~~~~~~~~~~~~~~~~______________
____.______│__ѧ_:_________:____│,__________~~~~~~~~~~~~~~~~~~~,________,___
__________________________________________~~~~~~~~~~~~~~~~~~~~~____________
#________________________________________,~~~~~~~~~~~~~~~~~~~~~____________
##______________________________________'~~~~~~~~~~~~~~~~~~~~~~'___________
###____'________________________________~~~~~~~~~~~~~~~~~~~~~~~~___________
###_______________________________,~~~~~~~~~~~~~~~~~~~~~~~~~~~~~'__________
###________________,_____~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~___"_______
###________________~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~____________
##______________~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~'____________
##_________.___~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~_____________
_______________~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~_____________
________________~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~______*____#
____,____________"'~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~_________##
___________________'_,~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~"________##
##____________________'___"_,~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~,_________##
###________________________________',____"~~~~~~~~~~~~~~~~~,__'__________##
###_____'_______________________________________"___________________,____##
#####___________##############__________________________###################
######_________#################_____________________######################
"#;

const POND_3: &str = r#"Null|Null|Null
###___################________________################_______________######
###____#############_____________"___________________________________######
###____________._______________________________________'_____&&&&_______###
##______",_________________________________'________________&&&&&&_________
##__________________________________________________________&&&&&&_________
##_________________,',"~~~~~~~~~~~~_____________.____________&&&.________##
#______________,'.','~~~~~~~~~~~~~~~~~~~_____________________,__________###
#___,_________'.","~~~~~~~~~~~~~~~~~~~~~~~~~~~~_________________________###
#_____________','~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~_______________________###
#_____________,',~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~_________________"___###
#_____________,"~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~_________________###
#______________*~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~______________###
_______"________~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~_____________##
_________________~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~_______________
___________,______~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~_______________
______&&&_________~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~'__"_____'_________
_____&&&&&&__________~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~,'____________________
_____&&&&&&_______________~~~~~~~~~~~~~~~~~~~~~,"________________________##
_______&&&_______________________________________________________________##
_______________________________._______________________*_________________##
____'________,___________________________________________________________##
##______________________________________,_____________________________.__##
##_______________________________________"_______________________________##
#########___________##########___________________________________##########
###########________##############____________________________##############
"#;

const POND: [&str; 3] = [POND_1, POND_2, POND_3];

pub fn make_pond_feature() -> (
    Vec<Vec<Cells>>,
    HashMap<(usize, usize), NPCWrap>,
    HashMap<(usize, usize), Item>,
    HashMap<(usize, usize), EnvInter>,
) {
    let cells = vec![vec![Cells::Empty; 75]; 25];
    let mut rng = rand::thread_rng();
    parse_map(POND.choose(&mut rng).unwrap_or(&POND_1), cells)
}
